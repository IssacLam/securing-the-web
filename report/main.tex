% \documentclass[12pt]{ociamthesis}  % default square logo 
\documentclass[12pt, beltcrest, fleqn, twoside]{ociamthesis} % use old belt crest logo
% \documentclass[12pt,shieldcrest]{ ociamthesis} % use older shield crest logo
\newcounter{filePrg}

\usepackage[dvipsnames]{xcolor}

\usepackage[skins,minted]{tcolorbox}

\definecolor{mintedbackground}{rgb}{0.95,0.95,0.95}
\definecolor{mintedframe}{rgb}{0.70,0.85,0.95}
\definecolor{mintedframe2}{rgb}{0.50,0.65,0.75}
\definecolor{mintedtitle}{rgb}{0.28,0.28,0.28}

\newtcblisting{commandshell}{colback=black,colupper=white,colframe=yellow!75!black,
listing only,listing options={style=tcblatex,language=sh},
every listing line={\textcolor{red}{\small\ttfamily\bfseries root \$> }}}

\newtcbinputlisting[use counter=filePrg, number within=section, list inside=mypyg]{\codeFromFile}[5][]{%
  listing engine=minted,
  minted language=#2,
  listing file={#3},
  minted options={autogobble,linenos,breaklines,tabsize=4,fontsize=\footnotesize,#1},
  listing only,
  size=title,
  colbacktitle=mintedbackground,
% breakable,
  enhanced,
  sharp corners, top=0mm, bottom=0mm,
  fonttitle=\ttfamily\footnotesize,
  colback=mintedbackground,
  colframe=mintedframe,
  titlerule style={red!30!black!50, dashed},
  boxrule=0.5pt,
  coltitle=mintedtitle,
  title={#4},
  label=#5
}


%load any additional packages
\usepackage{multirow}
\usepackage[justification=centering]{subfig}
\usepackage{threeparttable}
\usepackage{multicol}
\usepackage{verbatim}
\usepackage{longtable}
\usepackage{tabu}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{cite}
\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}
\usepackage{listings}

\usepackage{enumitem}
\usepackage{minted}
\usepackage[fleqn]{mathtools}
\usepackage{tikz}
\usetikzlibrary{positioning,arrows,automata,calc,fit,shapes,backgrounds,shapes.multipart}

\tikzset{
modal/.style={>=stealthâ€™,shorten >=1pt,shorten <=1pt,auto, node distance=1.5cm,
semithick},
mini world/.style={circle,draw,minimum size=0.2cm,fill=gray!15},
world/.style={circle,draw,minimum size=0.5cm,fill=gray!15},
point/.style={circle,draw,inner sep=0.5mm,fill=black},
state/.style={rectangle,draw,minimum size=0.5cm,fill=gray!15},
initial/.style={circle, fill=black, draw, inner sep=1pt, double distance=3pt, minimum size=0.5cm},
reflexive above/.style={->,loop,looseness=7,in=120,out=60},
reflexive below/.style={->,loop,looseness=7,in=240,out=300},
reflexive left/.style={->,loop,looseness=7,in=150,out=210},
reflexive right/.style={->,loop,looseness=7,in=30,out=330}}

\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\newcommand{\specialcell}[2][c]{%
  \begin{tabular}[#1]{@{}c@{}}#2\end{tabular}}

% 
\usepackage{xargs}                      % Use more than one optional parameter in a new commands
% \usepackage[pdftex,dvipsnames]{xcolor}  
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}
%

% \usepackage[headheight=14.5pt]{geometry} % layout

\pagestyle{fancy}
% \fancyhf{}
% \fancyhead[LE,RO]{Candidate ID: 1001544}
% \fancyhead[RE,LO]{Securing the web}
% \fancyfoot[CE,CO]{\leftmark}
\fancyfoot[LE,RO]{\thepage}

\lstset{
  basicstyle=\small\ttfamily,
  basicstyle=\footnotesize\ttfamily,
  frame=lrtb,
  numbers=left,
  breaklines=true
}

\def\code{\mintinline[escapeinside=||, mathescape=true]{c}}

%input macros (i.e. write your own macros file called mymacros.tex 
%and uncomment the next line)
%\include{mymacros}

\title{Securing the Web}
% \\[1ex]     %your thesis title,
        % Free Boundary Problems}   %note \\[1ex] is a line break in the title

\author{Ting Yuen Lam}             %your name
\college{Keble College}  %your college

\supervisor{Prof. Daniel Kroening}

\degree{Master of Science in Computer Science}     %the degree

\degreedate{Trinity 2016}         %the degree date

\submitdate{August $30^{th}$, 2016}

%end the preamble and start the document
\begin{document}

%this baselineskip gives sufficient line spacing for an examiner to easily
%markup the thesis with comments
\baselineskip=18pt plus1pt

%set the number of sectioning levels that get number and appear in the contents
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}


% \maketitle                  % create a title page from the preamble info
% \include{contents/dedication}        % include a dedication.tex file
% \include{contents/-1.acknowlegements}   % include an acknowledgements.tex file
% \include{contents/0.abstract}          % include the abstract

\begin{romanpages}          % start roman page numbering
\tableofcontents            % generate and include a table of contents
\listoffigures              % generate and include a list of figures
\end{romanpages}            % end roman page numbering

%now include the files of latex for each of the chapters etc
% \include{contents/1.introduction}
% \include{contents/2.background}
% \include{contents/3.proposedApproach}
\include{contents/4.verification}
\include{contents/5.evaluation}
\include{contents/6.discussion}
\include{contents/7.conclusion}

%now enable appendix numbering format and include any appendices
\appendix
\include{appendices/fileStructure}
\include{appendices/appendix1}
\include{appendices/appendix2}
\include{appendices/appendix3}
\include{appendices/appendix4}
\include{appendices/executionCommands}
\include{appendices/helperTools}
\include{appendices/harnesses}

%next line adds the Bibliography to the contents page
\addcontentsline{toc}{chapter}{Bibliography}
%uncomment next line to change bibliography name to references
%\renewcommand{\bibname}{References}
\bibliography{refs}        %use a bibtex bibliography file refs.bib
\bibliographystyle{plain}  %use the plain bibliography style

\end{document}

